{"version":3,"sources":["test/integration/pages/index_test.js","test/integration/pages/slider_errors_test.js","test/integration/processes/create_new_app_test.js","test/unit/controllers/createAppWizard/step1_controller_test.js","test/unit/controllers/createAppWizard/step2_controller_test.js","test/unit/controllers/createAppWizard/step3_controller_test.js","test/unit/controllers/createAppWizard/step4_controller_test.js","test/unit/controllers/create_app_wizard_controller_test.js","test/unit/controllers/slider_app/summary_controller_test.js","test/unit/controllers/slider_app_controller_test.js","test/unit/controllers/slider_apps_controller_test.js","test/unit/controllers/slider_controller_test.js","test/unit/mappers/slider_apps_mapper_test.js","test/unit/models/slider_app_component_test.js","test/unit/models/slider_app_test.js","test/unit/views/common/table_view_test.js","test/unit/views/slider_app/summary_view_test.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/HA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9DA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArWA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9aA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnZA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAraA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvbA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzMA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/lBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1DA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3IA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArFA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnDA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/FA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnEA;AAAA","file":"public/javascripts/test.js","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nQUnit.module('integration/pages - index', {\n\n  setup: function () {\n    sinon.config.useFakeTimers = false;\n    App.set('viewEnabled', true);\n    App.__container__.lookup('controller:Slider').getViewDisplayParametersSuccessCallback({\n      \"ViewInstanceInfo\": {\n        \"context_path\": \"/views/SLIDER/1.0.0/s1\",\n        \"description\": \"DESCRIPTION\",\n        \"label\": \"SLIDER LABEL\",\n        \"properties\": {\n          \"slider.user\": \"admin\"\n        }\n      }\n    });\n    Ember.run(App, App.advanceReadiness);\n  },\n\n  teardown: function () {\n    App.reset();\n  }\n\n});\n\ntest('route', function () {\n\n  visit('/');\n  andThen(function () {\n    equal(currentRouteName(), 'slider_apps.index', 'route is valid');\n    equal(currentPath(), 'slider_apps.index', 'path is valid');\n    equal(currentURL(), '/', 'url is valid');\n  });\n\n});\n\ntest('sliderConfigs', function () {\n\n  visit('/');\n  // configs count may be changed by adding new slider-configs\n  equal(App.SliderApp.store.all('sliderConfig').content.length, 4, 'slider configs should be set');\n\n});\n\ntest('Create-App button', function () {\n\n  visit('/');\n  click('.create-app a');\n\n  andThen(function () {\n    equal(currentRouteName(), 'createAppWizard.step1', 'route is valid');\n    equal(currentPath(), 'slider_apps.createAppWizard.step1', 'path is valid');\n    equal(currentURL(), '/createAppWizard/step1', 'url is valid');\n  });\n\n});\n\ntest('Create-App button visible/hidden', function () {\n\n  Em.run(function () {\n    App.__container__.lookup('controller:application').set('hasConfigErrors', true);\n  });\n\n  visit('/');\n  equal(find('.create-app').length, 0, 'Create App button should be hidden if some config errors');\n\n});\n\ntest('Slider Title', function () {\n\n  visit('/');\n  equal(find('.slider-app-title').text(), 'SLIDER LABEL', 'App has valid Slider Title');\n\n});\n\ntest('Slider Title Popover', function () {\n\n  visit('/');\n  triggerEvent('#slider-title', 'mouseenter'); // not hover!\n  andThen(function () {\n    equal(find('.popover').length, 1, 'popover exists');\n    equal(find('.popover-title').text(), 'SLIDER LABEL', 'popover has valid title');\n    equal(find('.slider-description').text(), 'DESCRIPTION', 'popover has slider description');\n  });\n\n});\n\ntest('Clear Filters', function () {\n\n  visit('/');\n  fillIn('#filter-row input:eq(0)', 'Some val');\n  find('#filter-row select:eq(0)  :nth-child(1)').attr('selected', 'selected');\n  fillIn('#filter-row input:eq(1)', 'Some val');\n  fillIn('#filter-row input:eq(2)', 'Some val');\n  find('#filter-row select:eq(1) :nth-child(1)').attr('selected', 'selected');\n\n  andThen(function () {\n    click('.clearFiltersLink');\n\n    andThen(function () {\n      equal(find('#filter-row input:eq(0)').val(), '');\n      equal(find('#filter-row select:eq(0)').val(), 'All Status');\n      equal(find('#filter-row input:eq(1)').val(), '');\n      equal(find('#filter-row input:eq(2)').val(), '');\n      equal(find('#filter-row select:eq(1)').val(), 'All Dates');\n\n    });\n  });\n\n});\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nQUnit.module('integration/pages - index', {\n\n  setup: function () {\n    sinon.config.useFakeTimers = false;\n    Ember.run(App, App.advanceReadiness);\n    Em.run(function () {\n      var p = {\n        validations: [\n          {message: 'Some mythical error'},\n          {message: 'Error with DNA'}\n        ],\n        parameters: {}\n      };\n      App.__container__.lookup('controller:Slider').getParametersFromViewPropertiesSuccessCallback(p);\n    });\n  },\n\n  teardown: function () {\n    App.reset();\n  }\n\n});\n\ntest('Slider has validation errors', function () {\n\n  visit('/');\n  equal(find('.error-message').length, 2, 'Error-messages exist on the page');\n  ok(find('.create-app a').attr('disabled'), 'Create App button is disabled');\n\n});\n\ntest('Slider has no validation errors', function () {\n\n  Em.run(function () {\n    App.__container__.lookup('controller:Slider').getParametersFromViewPropertiesSuccessCallback({\n      validations: [],\n      parameters: {}\n    });\n  });\n\n  visit('/');\n  equal(find('.error-message').length, 0, 'No error-messages on the page');\n  ok(!find('.create-app a').attr('disabled'), 'Create App button is enabled');\n\n});","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar appTypes = {\n  items: [\n    {\n      \"id\": \"HBASE\",\n      \"instance_name\": \"SLIDER_1\",\n      \"typeComponents\": [\n        {\n          \"id\": \"HBASE_MASTER\",\n          \"name\": \"HBASE_MASTER\",\n          \"displayName\": \"HBASE_MASTER\",\n          \"instanceCount\": 1,\n          \"maxInstanceCount\": 2,\n          \"yarnMemory\": 1024,\n          \"yarnCpuCores\": 1\n        },\n        {\n          \"id\": \"HBASE_REGIONSERVER\",\n          \"name\": \"HBASE_REGIONSERVER\",\n          \"category\": \"SLAVE\",\n          \"displayName\": \"HBASE_REGIONSERVER\",\n          \"priority\": 2,\n          \"instanceCount\": 2,\n          \"maxInstanceCount\": 0,\n          \"yarnMemory\": 1024,\n          \"yarnCpuCores\": 1\n        }\n      ],\n      \"typeDescription\": \"Apache HBase is the Hadoop database, a distributed, scalable, big data store.\\n        Requirements:\\n        1. Ensure parent dir for path (hbase-site/hbase.rootdir) is accessible to the App owner.\\n        2. Ensure ZK root (hbase-site/zookeeper.znode.parent) is unique for the App instance.\",\n      \"typeName\": \"HBASE\",\n      \"typePackageFileName\": \"hbase_v096.zip\",\n      \"typeVersion\": \"0.96.0.2.1.1\",\n      \"version\": \"1.0.0\",\n      \"view_name\": \"SLIDER\",\n      \"typeConfigs\": {\n        \"agent.conf\": \"/slider/agent/conf/agent.ini\",\n        \"application.def\": \"/slider/hbase_v096.zip\",\n        \"config_types\": \"core-site,hdfs-site,hbase-site\",\n        \"java_home\": \"/usr/jdk64/jdk1.7.0_45\",\n        \"package_list\": \"files/hbase-0.96.1-hadoop2-bin.tar.gz\",\n        \"site.core-site.fs.defaultFS\": \"${NN_URI}\",\n        \"site.global.app_install_dir\": \"${AGENT_WORK_ROOT}/app/install\",\n        \"site.global.metric_collector_host\": \"${NN_HOST}\",\n        \"site.global.metric_collector_port\": \"6118\",\n        \"site.global.metric_collector_lib\": \"file:///usr/lib/ambari-metrics-hadoop-sink/ambari-metrics-hadoop-sink.jar\",\n        \"site.global.hbase_master_heapsize\": \"1024m\",\n        \"site.global.hbase_regionserver_heapsize\": \"1024m\",\n        \"site.global.security_enabled\": \"false\",\n        \"site.global.user_group\": \"hadoop\",\n        \"site.hbase-site.hbase.client.keyvalue.maxsize\": \"10485760\",\n        \"site.hbase-site.hbase.client.scanner.caching\": \"100\",\n        \"site.hbase-site.zookeeper.znode.parent\": \"/hbase-unsecure\",\n        \"site.hdfs-site.dfs.namenode.https-address\": \"${NN_HOST}:50470\"\n      }\n    }\n  ]\n};\n\nvar selectors = {\n    buttonNext: 'button.next-btn',\n    buttonBack: '.btn-area button.btn:eq(1)',\n    step2: {\n      content: '#step2 table tbody'\n    },\n    step3: {\n      addPropertyButton: '#createAppWizard .add-property'\n    }\n  },\n  newApp = {\n    name: 'new_app',\n    type: 'HBASE',\n    includeFilePatterns: 'includeFilePatterns1',\n    excludeFilePatterns: 'excludeFilePatterns1',\n    frequency: '1',\n    queueName: 'queueName1',\n    specialLabel: 'specialLabel1',\n    selectedYarnLabel: 'selectedYarnLabel1',\n    components: {\n      HBASE_MASTER: 4,\n      HBASE_REGIONSERVER: 5\n    },\n    yarnLabel: 'SOME LABEL',\n    categoriesCount: 6,\n    newConfig: {\n      name: 'new_property',\n      value: 'new_value'\n    }\n  };\n\nQUnit.module('integration/processes - Create New App', {\n\n  setup: function () {\n\n    sinon.config.useFakeTimers = false;\n\n    $.mockjax({\n      type: 'GET',\n      url: '*',\n      status: '200',\n      dataType: 'json',\n      responseText: {}\n    });\n\n    Em.run(App, App.advanceReadiness);\n    Em.run(function () {\n      App.set('viewEnabled', true); // Important!\n      App.ApplicationTypeMapper.parse(appTypes);\n    });\n  },\n\n  teardown: function () {\n    App.reset();\n    $.mockjax.clear();\n  }\n\n});\n\ntest('basic (no errors - just valid data)', function () {\n\n  /* STEP 1 */\n  visit('/createAppWizard/step1');\n  equal(find(selectors.buttonNext).attr('disabled'), 'disabled', '\"Next\"-button should be disabled at the beginning of Step 1');\n  equal(find('select.type-select option').length, 1, '1 App Type loaded - 1 App Type in select');\n  fillIn('#app-name-input', newApp.name);\n  andThen(function () {\n    equal(find(selectors.buttonNext).attr('disabled'), null, '\"Next\"-button should be enabled after user input a valid name');\n  });\n  click(selectors.buttonNext);\n  equal(find(selectors.buttonNext).attr('disabled'), 'disabled', '\"Next\"-button should be disabled after click on it');\n\n  andThen(function () {\n    /* STEP 2 */\n    equal(currentURL(), '/createAppWizard/step2', 'User comes to Step 2');\n\n    equal(find(selectors.buttonNext).attr('disabled'), null, '\"Next\"-button should be enabled at the beginning of Step 2');\n    equal(find(selectors.step2.content + ' tr').length, 2, 'Selected App Type has 2 components');\n    equal(find(selectors.step2.content + ' tr:eq(0) .numInstances').val(), '1', 'Component count for 1st component is valid by default');\n    equal(find(selectors.step2.content + ' tr:eq(1) .numInstances').val(), '2', 'Component count for 2nd component is valid by default');\n\n    fillIn(selectors.step2.content + ' tr:eq(0) .numInstances', newApp.components.HBASE_MASTER);\n    fillIn(selectors.step2.content + ' tr:eq(1) .numInstances', newApp.components.HBASE_REGIONSERVER);\n\n    equal(find(selectors.step2.content + ' tr:eq(0) .yarnLabel').attr('disabled'), 'disabled', 'YARN label input-field should be disabled by default');\n    find(selectors.step2.content + ' tr:eq(0) .checkbox-inline').click();\n    equal(find(selectors.step2.content + ' tr:eq(0) .yarnLabel').attr('disabled'), null, 'YARN label input-field should be enabled after checkbox checked');\n\n    click(selectors.buttonNext);\n    andThen(function () {\n      /* STEP 3 */\n      equal(currentURL(), '/createAppWizard/step3', 'User comes to Step 3');\n      equal(find(selectors.buttonNext).attr('disabled'), null, '\"Next\"-button should be enabled at the beginning of Step 3');\n      equal(find('.panel').length, newApp.categoriesCount, 'Config categories count');\n    });\n    // Add Custom Property\n    click('button.btn-link');\n    fillIn('.modal-dialog input:eq(0)', newApp.newConfig.name);\n    fillIn('.modal-dialog input:eq(1)', newApp.newConfig.value);\n    click('.modal-dialog .btn-success');\n\n    click(selectors.buttonNext);\n\n    andThen(function () {\n      /* STEP 4 */\n      equal(currentURL(), '/createAppWizard/step4', 'User comes to Step 4');\n      equal(find(selectors.buttonNext).attr('disabled'), null, '\"Next\"-button should be enabled at the beginning of Step 4');\n\n      ok(find('#step4').text().indexOf('App Name: ' + newApp.name) > -1, 'App Name exists');\n      ok(find('#step4').text().indexOf('App Type: ' + newApp.type) > -1, 'App Type exists');\n      ok(find('#step4').text().indexOf('HBASE_MASTER: ' + newApp.components.HBASE_MASTER) > -1, 'HBASE_MASTER count exists');\n      ok(find('#step4').text().indexOf('HBASE_REGIONSERVER: ' + newApp.components.HBASE_REGIONSERVER) > -1, 'HBASE_REGIONSERVER count exists');\n      ok(find('pre').text().indexOf('\"' + newApp.newConfig.name + '\":\"' + newApp.newConfig.value + '\"') > -1, 'Custom property exists');\n\n    });\n  });\n\n});\n\ntest('check step1', function () {\n\n  visit('/createAppWizard/step1');\n  equal(find(selectors.buttonNext).attr('disabled'), 'disabled', '\"Next\"-button should be disabled at the beginning of Step 1');\n  fillIn('#app-name-input', '1s');\n  andThen(function () {\n    equal(find(selectors.buttonNext).attr('disabled'), 'disabled', '\"Next\"-button should be disabled because invalid name provided');\n  });\n\n  fillIn('#app-name-input', '-');\n  andThen(function () {\n    equal(find(selectors.buttonNext).attr('disabled'), 'disabled', '\"Next\"-button should be disabled because invalid name provided (2)');\n  });\n\n  fillIn('#app-name-input', 's$1');\n  andThen(function () {\n    equal(find(selectors.buttonNext).attr('disabled'), 'disabled', '\"Next\"-button should be disabled because invalid name provided (2)');\n  });\n\n  equal(find('.special-label').attr('disabled'), 'disabled', '\"Special YARN label\"-textfield should be disabled');\n  find('.special-label-radio').click();\n  equal(find('.special-label').attr('disabled'), null, '\"Special YARN label\"-textfield should be enabled if proper radio-button selected');\n\n});\n\ntest('check step2', function () {\n\n  visit('/createAppWizard/step1');\n  fillIn('#app-name-input', newApp.name);\n  click(selectors.buttonNext);\n\n  andThen(function () {\n    fillIn(selectors.step2.content + ' tr:eq(0) .numInstances', -1);\n    andThen(function () {\n      equal(find(selectors.buttonNext).attr('disabled'), 'disabled', '\"Next\"-button should be disabled because invalid value provided for Instances count');\n      equal(find('.alert').length, 1, 'Alert-box is on page');\n    });\n    fillIn(selectors.step2.content + ' tr:eq(0) .numInstances', 1);\n    andThen(function () {\n      equal(find(selectors.buttonNext).attr('disabled'), null);\n      equal(find('.alert').length, 0, 'Alert-box is hidden');\n    });\n    fillIn(selectors.step2.content + ' tr:eq(0) .yarnMemory', -1);\n    andThen(function () {\n      equal(find(selectors.buttonNext).attr('disabled'), 'disabled', '\"Next\"-button should be disabled because invalid value provided for Memory');\n      equal(find('.alert').length, 1, 'Alert-box is on page');\n    });\n    fillIn(selectors.step2.content + ' tr:eq(0) .yarnMemory', 1024);\n    andThen(function () {\n      equal(find(selectors.buttonNext).attr('disabled'), null);\n      equal(find('.alert').length, 0, 'Alert-box is hidden');\n    });\n    fillIn(selectors.step2.content + ' tr:eq(0) .yarnCPU', -1);\n    andThen(function () {\n      equal(find(selectors.buttonNext).attr('disabled'), 'disabled', '\"Next\"-button should be disabled because invalid value provided for CPU Cores');\n      equal(find('.alert').length, 1, 'Alert-box is on page');\n    });\n    fillIn(selectors.step2.content + ' tr:eq(0) .yarnCPU', 1024);\n    andThen(function () {\n      equal(find(selectors.buttonNext).attr('disabled'), null);\n      equal(find('.alert').length, 0, 'Alert-box is hidden');\n    });\n\n    equal(find(selectors.step2.content + ' tr:eq(0) .yarnLabel').attr('disabled'), 'disabled', 'Labels-field is disabled by default');\n    find(selectors.step2.content + ' tr:eq(0) .checkbox-inline').click();\n    andThen(function () {\n      equal(find(selectors.step2.content + ' tr:eq(0) yarnLabel').attr('disabled'), null, 'Labels-field should be enabled when checkbox clicked');\n    });\n  });\n\n});\n\ntest('check step2 back', function () {\n\n  visit('/createAppWizard/step1');\n  fillIn('#app-name-input', newApp.name);\n  fillIn('.includeFilePatterns', newApp.includeFilePatterns);\n  fillIn('.excludeFilePatterns', newApp.excludeFilePatterns);\n  fillIn('.frequency', newApp.frequency);\n  fillIn('.queueName', newApp.queueName);\n  find('.selectedYarnLabel:eq(2)').click();\n  fillIn('.special-label', newApp.specialLabel);\n  click(selectors.buttonNext);\n\n  andThen(function () {\n    click(selectors.buttonBack);\n    andThen(function () {\n      equal(find('#app-name-input').val(), newApp.name, 'Name is restored');\n      equal(find('.includeFilePatterns').val(), newApp.includeFilePatterns, 'includeFilePatterns is restored');\n      equal(find('.excludeFilePatterns').val(), newApp.excludeFilePatterns, 'excludeFilePatterns is restored');\n      equal(find('.frequency').val(), newApp.frequency, 'frequency is restored');\n      equal(find('.queueName').val(), newApp.queueName, 'queueName is restored');\n      equal(find('.special-label').val(), newApp.specialLabel, 'specialLabel is restored');\n    });\n  });\n\n});\n\ntest('check step3', function () {\n\n  visit('/createAppWizard/step1');\n  fillIn('#app-name-input', newApp.name);\n  click(selectors.buttonNext);\n\n  andThen(function () {\n    click(selectors.buttonNext);\n\n    andThen(function () {\n      // Step 3\n\n      click(selectors.step3.addPropertyButton);\n      andThen(function () {\n        fillIn('.new-config-name:eq(0)', '!!');\n        click('.modal-dialog:eq(0) .btn-success');\n        andThen(function () {\n          equal(find('.modal-dialog:eq(0) .alert').length, 1, 'Error-message for invalid config name exists');\n        });\n\n        fillIn('.new-config-name:eq(0)', 'agent.conf'); // config already exists\n        click('.modal-dialog:eq(0) .btn-success');\n        andThen(function () {\n          equal(find('.modal-dialog:eq(0) .alert').length, 1, 'Error-message for existing config name');\n        });\n\n        click('.modal-dialog:eq(0) .btn-default');\n        andThen(function () {\n          click(selectors.step3.addPropertyButton);\n          andThen(function () {\n            equal(find('.new-config-name:eq(0)').val(), '', 'New config name should be empty on second modal opening');\n            equal(find('.new-config-value:eq(0)').val(), '', 'New config value should be empty on second modal opening');\n          });\n        });\n      });\n    });\n  });\n});\n\ntest('check step3 back', function () {\n\n  visit('/createAppWizard/step1');\n  fillIn('#app-name-input', newApp.name);\n  click(selectors.buttonNext);\n\n  andThen(function () {\n    fillIn(selectors.step2.content + ' tr:eq(0) .numInstances', newApp.components.HBASE_MASTER);\n    find(selectors.step2.content + ' tr:eq(0) .checkbox-inline').click();\n    fillIn(selectors.step2.content + ' tr:eq(0) .yarnLabel', newApp.yarnLabel);\n    fillIn(selectors.step2.content + ' tr:eq(1) .numInstances', newApp.components.HBASE_REGIONSERVER);\n    click(selectors.buttonNext);\n\n    andThen(function () {\n      click(selectors.buttonBack);\n\n      andThen(function () {\n        equal(find(selectors.step2.content + ' tr:eq(0) .numInstances').val(), newApp.components.HBASE_MASTER, 'Components count restored');\n        equal(find(selectors.step2.content + ' tr:eq(0) .checkbox-inline').attr('checked'), 'checked', 'YARN label checkbox restored');\n        equal(find(selectors.step2.content + ' tr:eq(0) .yarnLabel').val(), newApp.yarnLabel, 'YARN label input restored');\n        equal(find(selectors.step2.content + ' tr:eq(0) .yarnLabel').attr('disabled'), null, 'YARN label input not disabled');\n        equal(find(selectors.step2.content + ' tr:eq(1) .numInstances').val(), newApp.components.HBASE_REGIONSERVER, 'Components count restored (2)');\n      });\n    });\n  });\n\n});","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmoduleFor('controller:createAppWizardStep1', 'App.CreateAppWizardStep1Controller', {\n\n  needs: [\n    'controller:createAppWizard'\n  ],\n\n  setup: function () {\n    sinon.stub(App.ajax, 'send', Em.K);\n  },\n\n  teardown: function () {\n    App.ajax.send.restore();\n  }\n\n});\n\nvar selectedType = Em.Object.create({\n  id: 'HBASE',\n  configs: {\n    n0: 'v0'\n  }\n});\n\ntest('appWizardController', function () {\n\n  expect(1);\n\n  var controller = this.subject({\n    controllers: {\n      createAppWizard: {\n        key: 'value0'\n      }\n    }\n  });\n\n  Em.run(function () {\n    controller.set('controllers.createAppWizard.key', 'value1');\n  });\n\n  equal(controller.get('appWizardController.key'), 'value1', 'should link to App.CreateAppWizardController');\n\n});\n\ntest('isAppTypesError', function () {\n\n  expect(2);\n\n  var controller = this.subject({availableTypes: {content: []}});\n  equal(controller.get('isAppTypesError'), true, 'should be true if no app types provided');\n\n  Em.run(function () {\n    controller.set('availableTypes', {content: [\n      {}\n    ]});\n  });\n  equal(controller.get('isAppTypesError'), false, 'should be false if app types provided');\n\n});\n\ntest('typeDescription', function () {\n\n  expect(2);\n\n  var controller = this.subject();\n\n  equal(controller.get('typeDescription'), '', 'default typeDescription');\n\n  Em.run(function () {\n    controller.set('selectedType', Em.Object.create({\n      displayName: 'HBASE'\n    }));\n  });\n\n  equal(controller.get('typeDescription'), Em.I18n.t('wizard.step1.typeDescription').format('HBASE'), 'typeDescription is set from selectedType.displayName');\n\n});\n\ntest('initializeNewApp', function () {\n\n  expect(9);\n\n  var controller = this.subject({\n      store: Em.Object.create({\n        all: function () {\n          return [];\n        }\n      })\n    }),\n    app = Em.Object.create({\n      name: 'n',\n      includeFilePatterns: 'i',\n      excludeFilePatterns: 'e',\n      frequency: 'f',\n      queueName: 'q',\n      specialLabel: 's',\n      selectedYarnLabel: 'y'\n    }),\n    title = '{0} should be taken from appWizardController.newApp';\n\n  Em.run(function () {\n    controller.initializeNewApp();\n  });\n\n  equal(controller.get('newApp.selectedYarnLabel'), 0, 'selectedYarnLabel should be 0 as default');\n\n  var values = Em.keys(controller.get('newApp')).without('appType').without('configs').without('selectedYarnLabel').map(function (item) {\n    return controller.get('newApp.' + item);\n  });\n\n  propEqual(values.uniq(), [false, ''], 'should set properties values to empty strings as default');\n\n  Em.run(function () {\n    controller.set('controllers.createAppWizard.newApp', app);\n    controller.initializeNewApp();\n  });\n\n  Em.keys(app).forEach(function (key) {\n    equal(controller.get('newApp.' + key), app.get(key), title.format(key));\n  });\n\n});\n\ntest('loadAvailableTypes', function () {\n\n  expect(1);\n\n  var testObject = {\n      key: 'value'\n    },\n    controller = this.subject({\n    store: Em.Object.create({\n      all: function () {\n        return testObject;\n      }\n    })\n  });\n\n  Em.run(function () {\n    controller.loadAvailableTypes();\n  });\n\n  propEqual(controller.get('availableTypes'), testObject, 'availableTypes should be loaded from store');\n\n});\n\ntest('nameValidator', function () {\n  expect(7);\n\n  var tests = [\n    { name: 'Slider', e: true },\n    { name: '_slider', e: true },\n    { name: 'slider*2', e: true },\n    { name: 'slider', e: false },\n    { name: 'slider_1-2_3', e: false }\n  ];\n\n  var controller = this.subject({isNameError: false,\n    store: Em.Object.create({\n      all: function (key) {\n        return {\n          sliderApp: [\n            { name: 'slider2' }\n          ]\n        }[key];\n      }\n    })\n  });\n\n  tests.forEach(function (test) {\n    Em.run(function () {\n      controller.set('newApp', { name: test.name});\n    });\n\n    equal(controller.get('isNameError'), test.e, 'Name `' + test.name + '` is' + (!!test.e ? ' not ' : ' ') + 'valid');\n  });\n\n  Em.run(function () {\n    controller.set('newApp', { name: 'slider2'});\n  });\n\n  equal(controller.get('isNameError'), true, 'Name `slider2` already exist');\n  equal(controller.get('nameErrorMessage'), Em.I18n.t('wizard.step1.nameRepeatError'), 'Error message should be shown');\n});\n\ntest('validateAppNameSuccessCallback', function () {\n\n  expect(5);\n\n  var title = 'newApp should have {0} set',\n    controller = this.subject({\n      newApp: Em.Object.create(),\n      selectedType: selectedType\n    });\n\n  Em.run(function () {\n    controller.set('appWizardController.transitionToRoute', Em.K);\n    controller.validateAppNameSuccessCallback();\n  });\n\n  deepEqual(controller.get('newApp.appType'), selectedType, title.format('appType'));\n  deepEqual(controller.get('newApp.configs'), selectedType.configs, title.format('configs'));\n  deepEqual(controller.get('newApp.predefinedConfigNames'), Em.keys(selectedType.configs), title.format('predefinedConfigNames'));\n  deepEqual(controller.get('appWizardController.newApp'), controller.get('newApp'), 'newApp should be set in CreateAppWizardController');\n  equal(controller.get('appWizardController.currentStep'), 2, 'should proceed to the next step');\n\n});\n\ntest('validateAppNameErrorCallback', function () {\n\n  expect(7);\n\n  var controller = this.subject();\n\n  Em.run(function () {\n    sinon.stub(Bootstrap.ModalManager, 'open', Em.K);\n    sinon.stub(controller, 'defaultErrorHandler', Em.K);\n    controller.validateAppNameErrorCallback({\n      status: 409\n    }, null, null, null, {\n      name: 'name'\n    });\n  });\n\n  ok(Bootstrap.ModalManager.open.calledOnce, 'app name conflict popup should be displayed');\n  ok(!controller.defaultErrorHandler.called, 'defaultErrorHandler shouldn\\'t be executed');\n\n  Em.run(function () {\n    Bootstrap.ModalManager.open.restore();\n    controller.defaultErrorHandler.restore();\n    sinon.stub(Bootstrap.ModalManager, 'open', Em.K);\n    sinon.stub(controller, 'defaultErrorHandler', Em.K);\n    controller.validateAppNameErrorCallback({\n      status: 400\n    }, null, null, {\n      url: 'url',\n      type: 'type'\n    }, null);\n  });\n\n  ok(!Bootstrap.ModalManager.open.called, 'app name conflict popup shouldn\\'t be displayed');\n  ok(controller.defaultErrorHandler.calledOnce, 'defaultErrorHandler should be executed');\n  propEqual(controller.defaultErrorHandler.firstCall.args[0], {\n    status: 400\n  }, 'should pass request info to defaultErrorHandler');\n  equal(controller.defaultErrorHandler.firstCall.args[1], 'url', 'should pass url to defaultErrorHandler');\n  equal(controller.defaultErrorHandler.firstCall.args[2], 'type', 'should pass type to defaultErrorHandler');\n\n  Bootstrap.ModalManager.open.restore();\n  controller.defaultErrorHandler.restore();\n\n});\n\ntest('validateAppNameCompleteCallback', function () {\n\n  expect(1);\n\n  var controller = this.subject({\n    validateAppNameRequestExecuting: true\n  });\n\n  Em.run(function () {\n    controller.validateAppNameCompleteCallback();\n  });\n\n  ok(!controller.get('validateAppNameRequestExecuting'), 'validateAppNameRequestExecuting should be set to false');\n\n});\n\ntest('isSubmitDisabled', function () {\n\n  expect(6);\n\n  var controller = this.subject({\n      availableTypes: {\n        content: [\n          {}\n        ]\n      },\n      isNameError: false,\n      newApp: {\n        name: 'some'\n      }\n    }),\n    cases = [\n      {\n        key: 'validateAppNameRequestExecuting',\n        title: 'request is executing'\n      },\n      {\n        key: 'isNameError',\n        title: 'app name is invalid'\n      },\n      {\n        key: 'isAppTypesError',\n        title: 'no app types are available'\n      },\n      {\n        key: 'isFrequencyError',\n        title: 'frequency value is invalid'\n      }\n    ],\n    keys = cases.mapProperty('key'),\n    failTitle = 'submit button is disabled when {0}';\n\n  equal(controller.get('isSubmitDisabled'), false);\n\n  cases.forEach(function (item) {\n    Em.run(function () {\n      keys.forEach(function (key) {\n        controller.set(key, item.key != key);\n      });\n    });\n    equal(controller.get('isSubmitDisabled'), true, failTitle.format(item.title));\n  });\n\n  Em.run(function () {\n    keys.forEach(function (key) {\n      controller.set(key, true);\n    });\n    controller.set('newApp.name', '');\n  });\n  equal(controller.get('isSubmitDisabled'), true, failTitle.format('no app name is specified'));\n\n});\n\ntest('frequencyValidator', function () {\n\n  expect(8);\n\n  var controller = this.subject(),\n    cases = [\n      {\n        value: '123',\n        isFrequencyError: false,\n        frequencyErrorMessage: '',\n        title: 'numeric value'\n      },\n      {\n        value: '123a',\n        isFrequencyError: true,\n        frequencyErrorMessage: Em.I18n.t('wizard.step1.frequencyError'),\n        title: 'value contains letter'\n      },\n      {\n        value: '123-',\n        isFrequencyError: true,\n        frequencyErrorMessage: Em.I18n.t('wizard.step1.frequencyError'),\n        title: 'value contains special symbol'\n      },\n      {\n        value: '123 ',\n        isFrequencyError: true,\n        frequencyErrorMessage: Em.I18n.t('wizard.step1.frequencyError'),\n        title: 'value contains space'\n      }\n    ],\n    errorTitle = '{0}: isFrequencyError is set correctly',\n    messageTitle = '{0}: error message is set correctly';\n\n  cases.forEach(function (item) {\n    Em.run(function () {\n      controller.set('newApp', {\n        frequency: item.value\n      });\n    });\n    equal(controller.get('isFrequencyError'), item.isFrequencyError, errorTitle.format(item.title));\n    equal(controller.get('frequencyErrorMessage'), item.frequencyErrorMessage, messageTitle.format(item.title));\n  });\n\n});\n\ntest('saveApp', function () {\n\n  expect(4);\n\n  var controller = this.subject({\n      newApp: Em.Object.create(),\n      selectedType: selectedType\n    }),\n    saveAppTitle = 'newApp should have {0} set';\n\n  Em.run(function () {\n    controller.saveApp();\n  });\n\n  propEqual(controller.get('newApp.appType'), selectedType, saveAppTitle.format('appType'));\n  propEqual(controller.get('newApp.configs'), selectedType.configs, saveAppTitle.format('configs'));\n  deepEqual(controller.get('newApp.predefinedConfigNames'), Em.keys(selectedType.configs), saveAppTitle.format('predefinedConfigNames'));\n  propEqual(controller.get('appWizardController.newApp'), controller.get('newApp'), 'newApp should be set in CreateAppWizardController');\n\n});\n\ntest('actions.submit', function () {\n\n  expect(3);\n\n  var controller = this.subject({\n    validateAppNameRequestExecuting: false,\n    validateAppNameSuccessCallback: Em.K,\n    newApp: {\n      name: 'name'\n    }\n  });\n\n  Em.run(function () {\n    controller.send('submit');\n  });\n\n  ok(controller.get('validateAppNameRequestExecuting'), 'validateAppNameRequestExecuting should be set to true');\n  ok(App.ajax.send.calledOnce, 'request to server should be sent');\n  equal(App.ajax.send.firstCall.args[0].data.name, 'name', 'name should be passed');\n\n});","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmoduleFor('controller:createAppWizardStep2', 'App.CreateAppWizardStep2Controller', {\n\n  needs: [\n    'controller:createAppWizard'\n  ]\n\n});\n\nvar title = 'should be {0}';\n\ntest('appWizardController', function () {\n\n  expect(1);\n\n  var controller = this.subject({\n    controllers: {\n      createAppWizard: {\n        key: 'value0'\n      }\n    }\n  });\n\n  Em.run(function () {\n    controller.set('controllers.createAppWizard.key', 'value1');\n  });\n\n  equal(controller.get('appWizardController.key'), 'value1', 'should link to App.CreateAppWizardController');\n\n});\n\ntest('isError', function () {\n\n  expect(18);\n\n  var cases = [\n      {\n        content: [],\n        isError: false\n      },\n      {\n        content: [\n          Em.Object.create()\n        ],\n        isError: true\n      },\n      {\n        content: [\n          Em.Object.create({\n            numInstances: '0'\n          })\n        ],\n        isError: true\n      },\n      {\n        content: [\n          Em.Object.create({\n            yarnMemory: '0'\n          })\n        ],\n        isError: true\n      },\n      {\n        content: [\n          Em.Object.create({\n            yarnCPU: '0'\n          })\n        ],\n        isError: true\n      },\n      {\n        content: [\n          Em.Object.create({\n            numInstances: ' \\r\\n',\n            yarnMemory: ' \\r\\n',\n            yarnCPU: ' \\r\\n'\n          })\n        ],\n        isError: true\n      },\n      {\n        content: [\n          Em.Object.create({\n            numInstances: 'n',\n            yarnMemory: '0',\n            yarnCPU: '0'\n          })\n        ],\n        isError: true\n      },\n      {\n        content: [\n          Em.Object.create({\n            numInstances: '0',\n            yarnMemory: 'n',\n            yarnCPU: '0'\n          })\n        ],\n        isError: true\n      },\n      {\n        content: [\n          Em.Object.create({\n            numInstances: '0',\n            yarnMemory: '0',\n            yarnCPU: 'n'\n          })\n        ],\n        isError: true\n      },\n      {\n        content: [\n          Em.Object.create({\n            numInstances: '0.5',\n            yarnMemory: '0',\n            yarnCPU: '0'\n          })\n        ],\n        isError: true\n      },\n      {\n        content: [\n          Em.Object.create({\n            numInstances: '0',\n            yarnMemory: '0.5',\n            yarnCPU: '0'\n          })\n        ],\n        isError: true\n      },\n      {\n        content: [\n          Em.Object.create({\n            numInstances: '0',\n            yarnMemory: '0',\n            yarnCPU: '0.5'\n          })\n        ],\n        isError: true\n      },\n      {\n        content: [\n          Em.Object.create({\n            numInstances: '-1',\n            yarnMemory: '0',\n            yarnCPU: '0'\n          })\n        ],\n        isError: true\n      },\n      {\n        content: [\n          Em.Object.create({\n            numInstances: '0',\n            yarnMemory: '-1',\n            yarnCPU: '0'\n          })\n        ],\n        isError: true\n      },\n      {\n        content: [\n          Em.Object.create({\n            numInstances: '0',\n            yarnMemory: '0',\n            yarnCPU: '-1'\n          })\n        ],\n        isError: true\n      },\n      {\n        content: [\n          Em.Object.create({\n            numInstances: '0',\n            yarnMemory: '0',\n            yarnCPU: '0'\n          }),\n          Em.Object.create({\n            numInstances: '-1',\n            yarnMemory: '0',\n            yarnCPU: '0'\n          })\n        ],\n        isError: true\n      },\n      {\n        content: [\n          Em.Object.create({\n            numInstances: '0',\n            yarnMemory: '0',\n            yarnCPU: '0'\n          })\n        ],\n        isError: false\n      },\n      {\n        content: [\n          Em.Object.create({\n            numInstances: '0',\n            yarnMemory: '0',\n            yarnCPU: '0'\n          }),\n          Em.Object.create({\n            numInstances: '1',\n            yarnMemory: '1',\n            yarnCPU: '1'\n          })\n        ],\n        isError: false\n      }\n    ],\n    controller = this.subject();\n\n  cases.forEach(function (item) {\n\n    Em.run(function () {\n      controller.set('content', item.content);\n    });\n\n    equal(controller.get('isError'), item.isError, title.format(item.isError));\n\n  });\n\n});\n\ntest('isSubmitDisabled', function () {\n\n  expect(2);\n\n  var cases = [true, false],\n  controller = this.subject();\n\n  cases.forEach(function (item) {\n\n    Em.run(function () {\n      controller.set('isError', item);\n    });\n\n    equal(controller.get('isSubmitDisabled'), item, title.format(item));\n\n  });\n\n});\n\ntest('initializeNewApp', function () {\n\n  expect(4);\n\n  var controller = this.subject();\n\n  Em.run(function () {\n    controller.set('controllers.createAppWizard.newApp', {\n      components: [\n        Em.Object.create({\n          name: 'n'\n        })\n      ]\n    });\n    controller.initializeNewApp();\n  });\n\n  equal(controller.get('newApp.components.length'), 1, 'newApp should be taken from appWizardController');\n  equal(controller.get('newApp.components')[0].get('name'), 'n', 'newApp has correct names of components');\n  equal(controller.get('content.length'), 1, 'content should be taken from appWizardController');\n  equal(controller.get('content')[0].get('name'), 'n', 'content has correct names of components');\n\n});\n\ntest('loadTypeComponents', function () {\n\n  expect(8);\n\n  var toStringTitle = 'should convert {0} to string',\n    controller = this.subject();\n\n  Em.run(function () {\n    controller.set('newApp', {\n      appType: {\n        components: [\n          Em.Object.create({\n            name: 'n0',\n            defaultNumInstances: 0,\n            defaultYARNMemory: 128,\n            defaultYARNCPU: 1\n          })\n        ]\n      }\n    });\n    controller.set('controllers.createAppWizard.newApp', {\n      components: [\n        Em.Object.create({\n          name: 'n1'\n        })\n      ]\n    });\n    controller.loadTypeComponents();\n  });\n\n  equal(controller.get('content.length'), 1, 'content should contain one item');\n  equal(controller.get('content')[0].get('name'), 'n1', 'should take components from wizard controller');\n\n  Em.run(function () {\n    controller.get('content').clear();\n    controller.get('controllers.createAppWizard.newApp.components').clear();\n    controller.loadTypeComponents();\n  });\n\n  equal(controller.get('content.length'), 1, 'content contains one item');\n  equal(controller.get('content')[0].get('name'), 'n0', 'should take components from step controller');\n  deepEqual(controller.get('content')[0].get('numInstances'), '0', toStringTitle.format('numInstances'));\n  deepEqual(controller.get('content')[0].get('yarnMemory'), '128', toStringTitle.format('yarnMemory'));\n  deepEqual(controller.get('content')[0].get('yarnCPU'), '1', toStringTitle.format('yarnCPU'));\n\n  Em.run(function () {\n    controller.get('content').clear();\n    controller.get('controllers.createAppWizard.newApp.components').clear();\n    controller.get('newApp.appType.components').clear();\n    controller.loadTypeComponents();\n  });\n\n  equal(controller.get('content.length'), 0, 'content should remain empty');\n\n});\n\ntest('isNotInteger', function () {\n\n  expect(6);\n\n  var controller = this.subject({});\n  equal(controller.isNotInteger('1'), false, 'Valid value');\n  equal(controller.isNotInteger('-1'), true, 'Invalid value (1)');\n  equal(controller.isNotInteger('bbb'), true, 'Invalid value (2)');\n  equal(controller.isNotInteger('1a'), true, 'Invalid value (3)');\n  equal(controller.isNotInteger('!@#$%^'), true, 'Invalid value (4)');\n  equal(controller.isNotInteger(null), true, 'Invalid value (5)');\n\n});\n\ntest('saveComponents', function () {\n\n  expect(2);\n\n  var controller = this.subject({\n    content: [\n      Em.Object.create({\n        name: 'n'\n      })\n    ]\n  });\n\n  Em.run(function () {\n    controller.set('controllers.createAppWizard.newApp', {});\n    controller.saveComponents();\n  });\n\n  equal(controller.get('appWizardController.newApp.components.length'), 1, 'components in wizard controller should be set from content');\n  equal(controller.get('appWizardController.newApp.components')[0].get('name'), 'n', 'components in wizard controller have correct names');\n\n});\n\ntest('actions.submit', function () {\n\n  expect(3);\n\n  var controller = this.subject({\n    content: [\n      Em.Object.create({\n        name: 'n'\n      })\n    ]\n  });\n\n  Em.run(function () {\n    controller.get('controllers.createAppWizard').setProperties({\n      newApp: {},\n      currentStep: 2,\n      transitionToRoute: Em.K\n    });\n    controller.send('submit');\n  });\n\n  equal(controller.get('appWizardController.newApp.components.length'), 1, 'components in wizard controller should be set from content');\n  equal(controller.get('appWizardController.newApp.components')[0].get('name'), 'n', 'components in wizard controller have correct names');\n  equal(controller.get('appWizardController.currentStep'), '3', 'should go to step3');\n\n});\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmoduleFor('controller:createAppWizardStep3', 'App.CreateAppWizardStep3Controller', {\n\n  needs: [\n    'controller:createAppWizard'\n  ],\n\n  teardown: function () {\n    App.reset();\n  }\n\n});\n\ntest('appWizardController', function () {\n\n  expect(1);\n\n  var controller = this.subject({\n    controllers: {\n      createAppWizard: {\n        key: 'value0'\n      }\n    }\n  });\n\n  Em.run(function () {\n    controller.set('controllers.createAppWizard.key', 'value1');\n  });\n\n  equal(controller.get('appWizardController.key'), 'value1', 'should link to App.CreateAppWizardController');\n\n});\n\ntest('newAppConfigs', function () {\n\n  expect(1);\n\n  var configs = {\n      java_home: '/usr/jdk64/jdk1.7.0_40'\n    },\n    controller = this.subject();\n\n  Em.run(function () {\n    controller.set('controllers.createAppWizard.newApp', {\n      configs: configs\n    });\n  });\n\n  propEqual(controller.get('newAppConfigs'), configs, 'configs should be taken from wizard controller');\n\n});\n\ntest('sectionKeys', function () {\n\n  expect(2);\n\n  var cases = [\n      {\n        sectionKeys: ['general', 'custom'],\n        title: 'no newAppConfigs set'\n      },\n      {\n        newAppConfigs: {\n          'p0': 'v0',\n          'site.p1': 'v1',\n          'site.p2.0': 'v2',\n          'site.p2.1': 'v3'\n        },\n        sectionKeys: ['general', 'p1', 'p2', 'custom'],\n        title: 'newAppConfigs are set'\n      }\n    ],\n    controller = this.subject();\n\n  cases.forEach(function (item) {\n\n    Em.run(function () {\n      controller.set('controllers.createAppWizard.newApp', {\n        configs: item.newAppConfigs\n      });\n    });\n\n    propEqual(controller.get('sectionKeys'), item.sectionKeys, item.title);\n\n  });\n\n});\n\ntest('loadStep', function () {\n\n  expect(3);\n\n  var controller = this.subject();\n\n  Em.run(function () {\n    sinon.stub(controller, 'clearStep', Em.K);\n    sinon.stub(controller, 'initConfigs', Em.K);\n    controller.loadStep();\n  });\n\n  ok(controller.clearStep.calledOnce, 'clearStep should be executed');\n  ok(controller.initConfigs.calledOnce, 'initConfigs should be executed');\n  ok(controller.initConfigs.firstCall.args[0], 'true should be passed as argument to initConfigs');\n\n  controller.clearStep.restore();\n  controller.initConfigs.restore();\n\n});\n\ntest('initConfigs', function () {\n\n  expect(15);\n\n  var controller = this.subject(),\n    titleDefault = 'should set default {0} property value',\n    titleCustom = 'should set custom {0} property value',\n    titleGlobal = 'should set global {0} property value',\n    titleLabel = 'label shouldn\\'t contain \\'site.\\'';\n\n  Em.run(function () {\n    App.setProperties({\n      javaHome: '/usr/jdk64/jdk1.7.0_45',\n      metricsHost: 'host0',\n      metricsPort: '3333',\n      metricsLibPath: '/metrics/lib'\n    });\n    controller.get('controllers.createAppWizard').setProperties({\n      'content': {},\n      'newApp': {\n        'appType': {\n          'configs': {}\n        },\n        'configs': {\n          'java_home': '/usr/jdk64/jdk1.7.0_40',\n          'site.global.metric_collector_host': 'host1',\n          'site.global.metric_collector_port': '8080',\n          'site.global.metric_collector_lib': '/ams/lib'\n        }\n      }\n    });\n    controller.initConfigs(true);\n  });\n\n  equal(controller.get('configs').findBy('name', 'java_home').get('value'), '/usr/jdk64/jdk1.7.0_45', titleGlobal.format('java_home'));\n  equal(controller.get('configs').findBy('name', 'java_home').get('label'), 'java_home', 'label should be equal to name');\n  equal(controller.get('configs').findBy('name', 'ams_metrics').configs.findBy('name', 'site.global.metric_collector_host')\n    .get('value'), 'host0', titleGlobal.format('site.global.metric_collector_host'));\n  equal(controller.get('configs').findBy('name', 'ams_metrics').configs.findBy('name', 'site.global.metric_collector_port')\n    .get('value'), '3333', titleGlobal.format('site.global.metric_collector_port'));\n  equal(controller.get('configs').findBy('name', 'ams_metrics').configs.findBy('name', 'site.global.metric_collector_lib')\n    .get('value'), '/metrics/lib', titleGlobal.format('site.global.metric_collector_lib'));\n  equal(controller.get('configs').findBy('name', 'ams_metrics').configs.findBy('name', 'site.global.metric_collector_host')\n    .get('label'), 'global.metric_collector_host', titleLabel);\n  equal(controller.get('configs').findBy('name', 'ams_metrics').configs.findBy('name', 'site.global.metric_collector_port')\n    .get('label'), 'global.metric_collector_port', titleLabel);\n  equal(controller.get('configs').findBy('name', 'ams_metrics').configs.findBy('name', 'site.global.metric_collector_lib')\n    .get('label'), 'global.metric_collector_lib', titleLabel);\n\n  Em.run(function () {\n    App.setProperties({\n      javaHome: null,\n      metricsHost: null,\n      metricsPort: null,\n      metricsLibPath: null\n    });\n    controller.initConfigs();\n  });\n\n  equal(controller.get('configs').findBy('name', 'java_home').get('value'), '/usr/jdk64/jdk1.7.0_40', titleCustom.format('java_home'));\n  equal(controller.get('configs').findBy('name', 'ams_metrics').configs.findBy('name', 'site.global.metric_collector_host')\n    .get('value'), 'host1', titleGlobal.format('site.global.metric_collector_host'));\n  equal(controller.get('configs').findBy('name', 'ams_metrics').configs.findBy('name', 'site.global.metric_collector_port')\n    .get('value'), '8080', titleGlobal.format('site.global.metric_collector_port'));\n  equal(controller.get('configs').findBy('name', 'ams_metrics').configs.findBy('name', 'site.global.metric_collector_lib')\n    .get('value'), '/ams/lib', titleGlobal.format('site.global.metric_collector_lib'));\n\n  Em.run(function () {\n    controller.get('controllers.createAppWizard').setProperties({\n      'newApp': {\n        'appType': {\n          'configs':  {\n            'site.global.metric_collector_host': 'host3',\n            'site.global.metric_collector_port': '8888',\n            'site.global.metric_collector_lib': '/var/ams/lib'\n          }\n        },\n        'configs': {}\n      }\n    });\n    controller.initConfigs();\n  });\n\n  equal(controller.get('configs').findBy('name', 'ams_metrics').configs.findBy('name', 'site.global.metric_collector_host')\n    .get('value'), 'host3', titleDefault.format('site.global.metric_collector_host'));\n  equal(controller.get('configs').findBy('name', 'ams_metrics').configs.findBy('name', 'site.global.metric_collector_port')\n    .get('value'), '8888', titleDefault.format('site.global.metric_collector_port'));\n  equal(controller.get('configs').findBy('name', 'ams_metrics').configs.findBy('name', 'site.global.metric_collector_lib')\n    .get('value'), '/var/ams/lib', titleDefault.format('site.global.metric_collector_lib'));\n\n});\n\ntest('initConfigSetDependencies', function () {\n\n  expect(1);\n\n  var configSet = {\n      dependencies: [\n        {\n          name: 'App.javaHome'\n        }\n      ]\n    },\n    javaHome = '/usr/jdk64/jdk1.7.0_40',\n    controller = this.subject();\n\n  Em.run(function () {\n    App.set('javaHome', javaHome);\n    controller.initConfigSetDependencies(configSet);\n  });\n\n  equal(configSet.dependencies[0].map, javaHome, 'should set map property');\n\n});\n\ntest('clearStep', function () {\n\n  expect(1);\n\n  var controller = this.subject();\n\n  Em.run(function () {\n    controller.clearStep();\n  });\n\n  ok(!controller.get('isError'), 'isError should be false');\n\n});\n\ntest('validateConfigs', function () {\n\n  expect(4);\n\n  var controller = this.subject({\n    configs: [\n      {\n        isSet: false,\n        name: 'p0',\n        value: 'v0'\n      }\n    ]\n  });\n\n  ok(controller.validateConfigs(), 'configs are valid');\n  propEqual(controller.get('configsObject'), {\n    p0: 'v0'\n  }, 'configsObject is set');\n\n  Em.run(function () {\n    controller.set('addConfigSetProperties', function () {\n      return null;\n    });\n  });\n\n  ok(!controller.validateConfigs(), 'configs are invalid');\n  ok(controller.get('isError'), 'isError is set to true');\n\n});\n\ntest('addConfigSetProperties', function () {\n\n  expect(1);\n\n  var configs = [\n      {\n        isSet: false,\n        configs: [\n          {\n            name: 'p0',\n            value: 'v0'\n          }\n        ]\n      },\n      {\n        isSet: true,\n        trigger: {},\n        configs: [\n          {\n            name: 'p1',\n            value: 'v1'\n          }\n        ]\n      },\n      {\n        isSet: true,\n        trigger: {\n          name: 'p2',\n          value: 'v2'\n        },\n        configs: [\n          {\n            name: 'p3',\n            value: 'v3'\n          }\n        ]\n      }\n    ],\n    controller = this.subject();\n\n    deepEqual(controller.addConfigSetProperties(configs), [configs[0], configs[2].configs[0]], 'should add config from config sets to general configs array');\n\n});\n\ntest('saveConfigs', function () {\n\n  expect(5);\n\n  var configsObject = {\n      p0: 'v0'\n    },\n    controller = this.subject({\n      configsObject: configsObject\n    }),\n    metricsCases = [\n      {\n        configsObject: {\n          'site.global.metrics_enabled': null\n        }\n      },\n      {\n        configsObject: {\n          'site.global.metrics_enabled': 'true',\n          'site.global.metric_collector_host': 'h0',\n          'site.global.metric_collector_port': '3333'\n        },\n        metricsEnabledExpected: 'true'\n      },\n      {\n        configsObject: {\n          'site.global.metrics_enabled': 'true',\n          'site.global.metric_collector_host': null,\n          'site.global.metric_collector_port': '8080'\n        },\n        metricsEnabledExpected: 'false'\n      },\n      {\n        configsObject: {\n          'site.global.metrics_enabled': 'true',\n          'site.global.metric_collector_host': 'h1',\n          'site.global.metric_collector_port': null\n        },\n        metricsEnabledExpected: 'false'\n      }\n    ],\n    metricsTitle = 'site.global.metrics_enabled should be {0}';\n\n  Em.run(function () {\n    controller.set('controllers.createAppWizard.newApp', {});\n    controller.saveConfigs();\n  });\n\n  propEqual(controller.get('controllers.createAppWizard.newApp.configs'), configsObject, 'configs are saved to wizard controller');\n\n  metricsCases.forEach(function (item) {\n    controller.reopen({\n      configsObject: item.configsObject\n    });\n    controller.set('controllers.createAppWizard.newApp', {});\n    controller.saveConfigs();\n    equal(controller.get('controllers.createAppWizard.newApp.configs')['site.global.metrics_enabled'],\n      item.metricsEnabledExpected, metricsTitle.format(item.metricsEnabledExpected || 'undefined'));\n  }, this);\n\n});\n\ntest('actions.submit', function () {\n\n  expect(2);\n\n  var configsObject = {\n      p0: 'v0'\n    },\n    controller = this.subject({\n      configs: [\n        {\n          isSet: false,\n          name: 'p0',\n          value: 'v0'\n        }\n      ]\n    });\n\n  Em.run(function () {\n    controller.get('controllers.createAppWizard').setProperties({\n      newApp: {},\n      currentStep: 3,\n      transitionToRoute: Em.K\n    });\n    controller.send('submit');\n  });\n\n  propEqual(controller.get('controllers.createAppWizard.newApp.configs'), configsObject, 'configs are passed to wizard controller');\n  equal(controller.get('controllers.createAppWizard.currentStep'), 4, 'should go to step4');\n\n});\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmoduleFor('controller:createAppWizardStep4', 'App.CreateAppWizardStep4Controller', {\n\n  needs: [\n    'controller:createAppWizard'\n  ],\n\n  setup: function () {\n    sinon.stub(App.ajax, 'send', Em.K);\n  },\n\n  teardown: function () {\n    App.ajax.send.restore();\n    App.reset();\n  }\n\n});\n\ntest('appWizardController', function () {\n\n  expect(1);\n\n  var controller = this.subject({\n    controllers: {\n      createAppWizard: {\n        key: 'value0'\n      }\n    }\n  });\n\n  Em.run(function () {\n    controller.set('controllers.createAppWizard.key', 'value1');\n  });\n\n  equal(controller.get('appWizardController.key'), 'value1', 'should link to App.CreateAppWizardController');\n\n});\n\ntest('isSubmitDisabled', function () {\n\n  expect(3);\n\n  var controller = this.subject({\n    newApp: Em.Object.create({\n      appType: {\n        index: 'test',\n        version: 'test'\n      },\n      name: test,\n      configs: [],\n      components: [],\n      queue: 'test',\n      queueName: 'test'\n    })\n  });\n\n  equal(controller.get('isSubmitDisabled'), false, 'should be false by default');\n\n  controller.sendAppDataToServer();\n  equal(controller.get('isSubmitDisabled'), true, 'should be true after sendAppDataToServer call');\n\n  controller.sendAppDataToServerCompleteCallback();\n  equal(controller.get('isSubmitDisabled'), false, 'should be false after sendAppDataToServerCompleteCallback call');\n\n});\n\ntest('configsFormatted', function () {\n\n  expect(1);\n\n  var controller = this.subject();\n\n  Em.run(function () {\n    controller.set('newApp', {\n      configs: {\n        p0: 'v0',\n        p1: 'v1',\n        p2: 'v2'\n      }\n    });\n  });\n\n  equal(controller.get('configsFormatted'), '\"p0\":\"v0\",\\n\"p1\":\"v1\",\\n\"p2\":\"v2\"', 'configs formatted correctly');\n\n});\n\ntest('resourcesFormatted', function () {\n\n  expect(18);\n\n  var propertiesCases = [\n      {\n        propertyName: 'numInstances',\n        expectedPropertyName: 'instanceCount',\n        value: '1'\n      },\n      {\n        propertyName: 'yarnMemory',\n        expectedPropertyName: 'yarnMemory',\n        value: '256'\n      },\n      {\n        propertyName: 'yarnCPU',\n        expectedPropertyName: 'yarnCpuCores',\n        value: '2'\n      },\n      {\n        propertyName: 'priority',\n        expectedPropertyName: 'priority',\n        value: 2\n      }\n    ],\n    globalCases = [\n      {\n        includeFilePatterns: null,\n        includeFilePatternsExpected: null,\n        excludeFilePatterns: null,\n        excludeFilePatternsExpected: null,\n        frequency: '1000',\n        frequencyExpected: '1000',\n        title: 'all parameters except one are null'\n      },\n      {\n        includeFilePatterns: '*.log',\n        includeFilePatternsExpected: '*.log',\n        excludeFilePatterns: '*.zip',\n        excludeFilePatternsExpected: '*.zip',\n        frequency: '1000',\n        frequencyExpected: '1000',\n        title: 'all parameters are valid'\n      }\n    ],\n    globalCasesUndefined = [\n      {\n        includeFilePatterns: null,\n        excludeFilePatterns: null,\n        frequency: null,\n        title: 'no patterns and frequency specified'\n      },\n      {\n        includeFilePatterns: ' \\r\\n',\n        excludeFilePatterns: null,\n        frequency: null,\n        title: 'one parameter is empty string after trimming'\n      }\n    ],\n    selectedYarnLabelCases = [\n      {\n        selectedYarnLabel: 0,\n        components: []\n      },\n      {\n        selectedYarnLabel: 1,\n        yarnLabelExpression: ''\n      },\n      {\n        selectedYarnLabel: 2,\n        specialLabel: 'specialLabel',\n        yarnLabelExpression: 'specialLabel'\n      }\n    ],\n    title = '{0} should be {1}',\n    selectedYarnLabelTitle = 'selected YARN label is {0}',\n    label = 'label',\n    controller = this.subject({\n      newApp: Em.Object.create({\n        components: [\n          Em.Object.create({\n            name: 'c',\n            numInstances: '0',\n            yarnMemory: '512',\n            yarnCPU: '1',\n            priority: 1\n          })\n        ]\n      })\n    });\n\n  propertiesCases.forEach(function (item) {\n\n    Em.run(function () {\n      controller.get('newApp.components')[0].set(item.propertyName, item.value);\n    });\n\n    equal(controller.get('resourcesFormatted.components')[0][item.expectedPropertyName], item.value, title.format(item.expectedPropertyName, item.value));\n\n  });\n\n  Em.run(function () {\n    controller.get('newApp.components')[0].setProperties({\n      yarnLabelChecked: false,\n      yarnLabel: label\n    });\n  });\n\n  ok(!controller.get('resourcesFormatted.components')[0].yarnLabel, 'yarnLabel shouldn\\'t be set');\n\n  Em.run(function () {\n    controller.get('newApp.components')[0].set('yarnLabelChecked', true);\n  });\n\n  equal(controller.get('resourcesFormatted.components')[0].yarnLabel, label, title.format('yarnLabel', '\\'' + label + '\\''));\n\n  Em.run(function () {\n    controller.get('newApp.components')[0].set('yarnLabel', ' ' + label + '\\n');\n  });\n\n  equal(controller.get('resourcesFormatted.components')[0].yarnLabel, label, 'yarnLabel should be trimmed');\n\n  globalCases.forEach(function (item) {\n\n    Em.run(function () {\n      controller.get('newApp').setProperties({\n        includeFilePatterns: item.includeFilePatterns,\n        excludeFilePatterns: item.excludeFilePatterns,\n        frequency: item.frequency\n      });\n      controller.notifyPropertyChange('newApp.components.@each.numInstances');\n    });\n\n    var global = controller.get('resourcesFormatted.global');\n\n    deepEqual(global['yarn.log.include.patterns'], item.includeFilePatternsExpected, item.title);\n    deepEqual(global['yarn.log.exclude.patterns'], item.excludeFilePatternsExpected, item.title);\n    deepEqual(global['yarn.log.interval'], item.frequencyExpected, item.title);\n\n  });\n\n  globalCasesUndefined.forEach(function (item) {\n\n    Em.run(function () {\n      controller.get('newApp').setProperties({\n        includeFilePatterns: item.includeFilePatterns,\n        excludeFilePatterns: item.excludeFilePatterns,\n        frequency: item.frequency\n      });\n      controller.notifyPropertyChange('newApp.components.@each.numInstances');\n    });\n\n    equal(typeof controller.get('resourcesFormatted.global'), 'undefined', item.title);\n\n  });\n\n  selectedYarnLabelCases.forEach(function (item) {\n\n    Em.run(function () {\n      controller.get('newApp').setProperties({\n        selectedYarnLabel: item.selectedYarnLabel,\n        specialLabel: item.specialLabel\n      });\n      controller.notifyPropertyChange('newApp.components.@each.numInstances');\n    });\n\n    var message = selectedYarnLabelTitle.format(item.selectedYarnLabel);\n\n    if (Em.isNone(item.yarnLabelExpression)) {\n      ok(!controller.get('resourcesFormatted.components').isAny('id', 'slider-appmaster'), message);\n    } else {\n      equal(controller.get('resourcesFormatted.components').findBy('id', 'slider-appmaster')['yarn.label.expression'],\n        item.yarnLabelExpression, message);\n    }\n\n  });\n\n});\n\ntest('loadStep', function () {\n\n  expect(1);\n\n  var controller = this.subject();\n\n  Em.run(function () {\n    sinon.stub(controller, 'initializeNewApp', Em.K);\n    controller.loadStep();\n  });\n\n  ok(controller.initializeNewApp.calledOnce, 'initializeNewApp should be executed');\n\n  controller.initializeNewApp.restore();\n\n});\n\ntest('initializeNewApp', function () {\n\n  expect(1);\n\n  var newApp = {\n      key: 'value'\n    },\n    controller = this.subject({\n      controllers: {\n        createAppWizard: {\n          newApp: newApp\n        }\n      }\n    });\n\n  Em.run(function () {\n    controller.loadStep();\n  });\n\n  propEqual(controller.get('newApp'), newApp, 'should initialize new app');\n\n});\n\ntest('sendAppDataToServerSuccessCallback', function () {\n\n  expect(1);\n\n  var controller = this.subject();\n\n  Em.run(function () {\n    sinon.stub(controller.get('appWizardController'), 'hidePopup', Em.K);\n    controller.sendAppDataToServerSuccessCallback();\n  });\n\n  ok(controller.get('appWizardController').hidePopup.calledOnce, 'popup should be closed');\n\n  controller.get('appWizardController').hidePopup.restore();\n\n});\n\ntest('sendAppDataToServerCompleteCallback', function () {\n\n  expect(1);\n\n  var controller = this.subject({\n    isSubmitDisabled: true\n  });\n\n  Em.run(function () {\n    controller.sendAppDataToServerCompleteCallback();\n  });\n\n  ok(!controller.get('isSubmitDisabled'), 'Finish button should be enabled');\n\n});\n\ntest('sendAppDataToServer', function () {\n\n  var controller = this.subject({\n      newApp: Em.Object.create({\n        appType: {\n          index: 'ACCUMULO',\n          version: '1'\n        },\n        name: 'name',\n        twoWaySSLEnabled: false,\n        configs: {\n          key: 'value'\n        }\n      }),\n      resourcesFormatted: {\n        components: []\n      }\n    }),\n    cases = [\n      {\n        queueName: null,\n        title: 'queueName not set'\n      },\n      {\n        queueName: ' \\n',\n        title: 'empty queueName value'\n      },\n      {\n        queueName: ' queue\\n',\n        queue: 'queue',\n        title: 'queueName set correctly'\n      }\n    ];\n\n  Em.run(function () {\n    controller.sendAppDataToServer();\n  });\n\n  ok(controller.get('isSubmitDisabled'), 'Finish button should be disabled');\n  ok(App.ajax.send.calledOnce, 'request to server should be sent');\n\n  cases.forEach(function (item) {\n\n    Em.run(function () {\n      controller.set('newApp.queueName', item.queueName);\n      controller.sendAppDataToServer();\n    });\n\n    var data = {\n      typeName: 'ACCUMULO',\n      typeVersion: '1',\n      name: 'name',\n      twoWaySSLEnabled: 'false',\n      resources: {\n        components: []\n      },\n      typeConfigs: {\n        key: 'value'\n      }\n    };\n    if (item.queue) {\n      data.queue = item.queue;\n    }\n\n    propEqual(App.ajax.send.lastCall.args[0].data.data, data, item.title);\n\n  });\n\n});\n\ntest('actions.finish', function () {\n\n  var controller = this.subject();\n\n  Em.run(function () {\n    sinon.stub(controller, 'sendAppDataToServer', Em.K);\n    controller.send('finish');\n  });\n\n  ok(controller.sendAppDataToServer.calledOnce, 'data should be sent to server');\n\n  controller.sendAppDataToServer.restore();\n\n});","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmoduleFor('controller:createAppWizard', 'App.CreateAppWizardController');\n\nvar stepCases = [\n    {\n      currentStep: 0,\n      step: 5,\n      fromNextButton: true,\n      expectedCurrentStep: 0\n    },\n    {\n      currentStep: 1,\n      step: 0,\n      fromNextButton: true,\n      expectedCurrentStep: 1\n    },\n    {\n      currentStep: 2,\n      step: 3,\n      fromNextButton: false,\n      expectedCurrentStep: 2\n    },\n    {\n      currentStep: 0,\n      step: 1,\n      fromNextButton: true,\n      expectedCurrentStep: 1\n    }\n  ],\n  currentStepTitle = 'currentStep should be {0}',\n  newApp = {\n    configs: {\n      n0: 'v0'\n    },\n    predefinedConfigNames: []\n  };\n\ntest('loadStep', function () {\n\n  var controller = this.subject({\n    transitionToRoute: Em.K\n  });\n\n  Em.run(function () {\n    controller.loadStep();\n  });\n\n  equal(controller.get('currentStep'), 1, 'currentStep should be 1');\n\n});\n\ntest('gotoStep', function () {\n\n  var controller = this.subject({\n    transitionToRoute: Em.K\n  });\n\n  stepCases.forEach(function (item) {\n\n    Em.run(function () {\n      controller.set('currentStep', item.currentStep);\n      controller.gotoStep(item.step, item.fromNextButton);\n    });\n\n    equal(controller.get('currentStep'), item.expectedCurrentStep, currentStepTitle.format(item.expectedCurrentStep));\n\n  });\n\n});\n\ntest('actions.gotoStep', function () {\n\n  var controller = this.subject({\n    transitionToRoute: Em.K\n  });\n\n  stepCases.rejectBy('fromNextButton').forEach(function (item) {\n\n    Em.run(function () {\n      controller.set('currentStep', item.currentStep);\n      controller.send('gotoStep', item.step);\n    });\n\n    equal(controller.get('currentStep'), item.expectedCurrentStep, currentStepTitle.format(item.expectedCurrentStep));\n\n  });\n\n});\n\ntest('gotoStep', function () {\n\n  var createAppWizardController = this.subject({\n    transitionToRoute: Em.K,\n    newApp: newApp\n  });\n\n  Em.run(function () {\n    createAppWizardController.gotoStep(1);\n  });\n\n  propEqual(createAppWizardController.get('newApp.configs', {}, 'custom configs should be dropped'));\n\n});\n\ntest('actions.gotoStep', function () {\n\n  var createAppWizardController = this.subject({\n    transitionToRoute: Em.K,\n    newApp: newApp\n  });\n\n  Em.run(function () {\n    createAppWizardController.send('gotoStep', 1);\n  });\n\n  propEqual(createAppWizardController.get('newApp.configs', {}, 'custom configs should be dropped'));\n\n});\n\ntest('dropCustomConfigs', function () {\n\n  var controller = this.subject({\n    newApp: {\n      configs: {\n        n0: 'v0',\n        n1: 'v1'\n      },\n      predefinedConfigNames: ['n0']\n    }\n  });\n\n  Em.run(function () {\n    controller.dropCustomConfigs();\n  });\n\n  propEqual(controller.get('newApp.configs'), {n0: 'v0'}, 'custom configs should be dropped');\n\n});\n\ntest('nextStep', function () {\n\n  var controller = this.subject({\n    transitionToRoute: Em.K,\n    currentStep: 1\n  });\n\n  Em.run(function () {\n    controller.nextStep();\n  });\n\n  equal(controller.get('currentStep'), '2', 'should go to step2');\n\n});\n\ntest('prevStep', function () {\n\n  var controller = this.subject({\n    transitionToRoute: Em.K,\n    currentStep: 2\n  });\n\n  Em.run(function () {\n    controller.prevStep();\n  });\n\n  equal(controller.get('currentStep'), '1', 'should go to step1');\n\n});\n\ntest('hidePopup', function () {\n\n  var controller = this.subject({\n    viewEnabled: true,\n    transitionToRoute: Em.K,\n    newApp: {}\n  });\n\n  Em.run(function () {\n    controller.hidePopup();\n  });\n\n  equal(controller.get('newApp'), null, 'should erase app data');\n\n});\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmoduleFor('controller:sliderAppSummary', 'App.SliderAppSummaryController');\n\ntest('appType', function () {\n\n  var sliderAppSummaryController = this.subject({\n    model: {\n      appType: {\n        displayName: 'name1'\n      }\n    }\n  });\n  equal(sliderAppSummaryController.get('appType'), 'name1');\n  Em.run(function() {\n    sliderAppSummaryController.set('model.appType.displayName', 'name2');\n  });\n  equal(sliderAppSummaryController.get('appType'), 'name2');\n\n});","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmoduleFor('controller:sliderApp', 'App.SliderAppController', {\n\n  needs: [\n    'component:bs-modal'\n  ],\n\n  setup: function () {\n    sinon.stub(Bootstrap.ModalManager, 'register', Em.K);\n    sinon.stub(Bootstrap.ModalManager, 'open', Em.K);\n    sinon.stub(App.ajax, 'send', Em.K);\n    sinon.stub(Bootstrap.ModalManager, 'close', Em.K);\n  },\n\n  teardown: function () {\n    Bootstrap.ModalManager.register.restore();\n    Bootstrap.ModalManager.open.restore();\n    App.ajax.send.restore();\n    Bootstrap.ModalManager.close.restore();\n  }\n\n});\n\ntest('availableActions', function () {\n\n  var controller = this.subject({model: Em.Object.create({status: ''})});\n  controller.set('model.status', App.SliderApp.Status.accepted);\n  deepEqual(controller.get('availableActions').mapBy('action'), ['freeze'], 'actions for ACCEPTED');\n\n  Em.run(function () {\n    controller.set('model.status', App.SliderApp.Status.failed);\n  });\n  deepEqual(controller.get('availableActions').findBy('title', 'Advanced').submenu.mapBy('action'), ['destroy'], 'actions for FAILED');\n\n  Em.run(function () {\n    controller.set('model.status', App.SliderApp.Status.finished);\n  });\n  deepEqual(controller.get('availableActions').findBy('title', 'Advanced').submenu.mapBy('action'), ['destroy'], 'actions for FINISHED');\n  ok(controller.get('availableActions').mapBy('action').contains('thaw'), 'actions for FINISHED (2)');\n\n  Em.run(function () {\n    controller.set('model.status', App.SliderApp.Status.killed);\n  });\n  deepEqual(controller.get('availableActions').findBy('title', 'Advanced').submenu.mapBy('action'), ['destroy'], 'actions for KILLED');\n\n  Em.run(function () {\n    controller.set('model.status', App.SliderApp.Status.new);\n  });\n  deepEqual(controller.get('availableActions').mapBy('action'), ['freeze'], 'actions for NEW');\n\n  Em.run(function () {\n    controller.set('model.status', App.SliderApp.Status.new_saving);\n  });\n  deepEqual(controller.get('availableActions').mapBy('action'), ['freeze'], 'actions for NEW_SAVING');\n\n  Em.run(function () {\n    controller.set('model.status', App.SliderApp.Status.running);\n  });\n  deepEqual(controller.get('availableActions').mapBy('action'), ['freeze', 'flex'], 'actions for RUNNING');\n\n  Em.run(function () {\n    controller.set('model.status', App.SliderApp.Status.frozen);\n  });\n  deepEqual(controller.get('availableActions').findBy('title', 'Advanced').submenu.mapBy('action'), ['destroy'], 'actions for FROZEN');\n  ok(controller.get('availableActions').mapBy('action').contains('thaw'), 'actions for FROZEN (2)');\n\n});\n\ntest('sliderAppTabs', function () {\n\n  var cases = [\n      {\n        length: 1\n      },\n      {\n        configs: {},\n        length: 1\n      },\n      {\n        configs: {\n          n0: 'v0'\n        },\n        length: 2\n      }\n    ],\n    title = 'number of tabs should be {0}',\n    controller = this.subject();\n\n  cases.forEach(function (item) {\n\n    Em.run(function () {\n      controller.set('model', {\n        configs: item.configs\n      })\n    });\n\n    equal(controller.get('sliderAppTabs.length'), item.length, title.format(item.length));\n\n  });\n\n});\n\ntest('weHaveQuicklinks', function () {\n\n  var cases = [\n      {\n        content: [\n          {\n            id: '0'\n          }\n        ],\n        value: true\n      },\n      {\n        value: false\n      }\n    ],\n    title = 'should be {0}',\n    controller = this.subject();\n\n  cases.forEach(function (item) {\n\n    Em.run(function () {\n      controller.set('model', {\n        quickLinks: {\n          content: {\n            content: item.content\n          }\n        }\n      });\n    });\n\n    equal(controller.get('weHaveQuicklinks'), item.value, title.format(item.value));\n\n  });\n\n});\n\ntest('destroyButtonEnabled', function () {\n\n  var cases = [\n      {\n        confirmChecked: true,\n        string: 'disabled'\n      },\n      {\n        confirmChecked: false,\n        string: 'enabled'\n      }\n    ],\n    title = 'button is {0}',\n    controller = this.subject();\n\n  cases.forEach(function (item) {\n\n    Em.run(function () {\n      controller.set('confirmChecked', item.confirmChecked);\n    });\n\n    equal(controller.get('destroyButtonEnabled'), !item.confirmChecked, title.format(item.string));\n\n  });\n\n});\n\ntest('confirmDestroy', function () {\n\n  var controller = this.subject(),\n    assertionsEqual = [\n      {\n        propertyName: 'name',\n        value: 'confirm-modal'\n      },\n      {\n        propertyName: 'title',\n        value: Ember.I18n.t('sliderApp.destroy.confirm.title')\n      },\n      {\n        propertyName: 'manual',\n        value: true\n      }\n    ],\n    assertionsDeepEqual = [\n      {\n        propertyName: 'targetObject',\n        value: controller,\n        valueFormatted: 'App.SliderAppController'\n      },\n      {\n        propertyName: 'controller',\n        value: controller,\n        valueFormatted: 'App.SliderAppController'\n      },\n      {\n        propertyName: 'body',\n        value: App.DestroyAppPopupView\n      },\n      {\n        propertyName: 'footerViews',\n        value: [App.DestroyAppPopupFooterView]\n      }\n    ],\n    title = 'modalComponent.{0} should be {1}';\n\n  Em.run(function () {\n    controller.confirmDestroy();\n  });\n\n  ok(Bootstrap.ModalManager.register.calledOnce, 'Bootstrap.ModalManager.register should be executed');\n  assertionsEqual.forEach(function (item) {\n    equal(Bootstrap.ModalManager.register.firstCall.args[1][item.propertyName], item.value, title.format(item.propertyName, item.value));\n  });\n  assertionsDeepEqual.forEach(function (item) {\n    deepEqual(Bootstrap.ModalManager.register.firstCall.args[1][item.propertyName], item.value, title.format(item.propertyName, item.valueFormatted || item.value));\n  });\n\n});\n\ntest('tryDoAction', function () {\n\n  var controller = this.subject({\n    currentAction: 'customMethod',\n    customMethod: function () {\n      this.set('groupedComponents', [{}]);\n    }\n  });\n\n  Em.run(function () {\n    controller.tryDoAction();\n  });\n\n  deepEqual(controller.get('groupedComponents'), [{}], 'currentAction should be executed');\n\n});\n\ntest('groupComponents', function () {\n\n  var controller = this.subject({\n    appType: {\n      components: [\n        Em.Object.create({\n          name: 'c0'\n        }),\n        Em.Object.create({\n          name: 'c1'\n        })\n      ]\n    },\n    components: [\n      Em.Object.create({\n        componentName: 'c0'\n      })\n    ]\n  });\n\n  Em.run(function () {\n    controller.groupComponents();\n  });\n\n  equal(controller.get('groupedComponents')[0].count, 1, 'count should be incremented');\n  equal(controller.get('groupedComponents')[1].count, 0, 'count shouldn\\'t be incremented');\n\n});\n\ntest('validateGroupedComponents', function () {\n\n  var cases = [\n      {\n        count: ' 1',\n        hasErrors: true,\n        title: 'validation failure'\n      },\n      {\n        count: '-1',\n        hasErrors: true,\n        title: 'validation failure'\n      },\n      {\n        count: 1,\n        hasErrors: false,\n        title: 'validation success'\n      }\n    ],\n    controller = this.subject();\n\n  cases.forEach(function (item) {\n\n    Em.run(function () {\n      controller.set('groupedComponents', [{\n        count: item.count\n      }]);\n      controller.validateGroupedComponents();\n    });\n\n    equal(controller.get('groupedComponentsHaveErrors'), item.hasErrors, item.title);\n\n  });\n\n});\n\ntest('flex', function () {\n\n  var controller = this.subject({\n      appType: {\n        components: [\n          Em.Object.create({\n            name: 'c0'\n          }),\n          Em.Object.create({\n            name: 'c1'\n          })\n        ]\n      },\n      components: [\n        Em.Object.create({\n          componentName: 'c0'\n        })\n      ]\n    });\n\n  Em.run(function () {\n    controller.flex();\n  });\n\n  equal(controller.get('groupedComponents')[0].count, 1, 'count should be incremented');\n  equal(controller.get('groupedComponents')[1].count, 0, 'count shouldn\\'t be incremented');\n\n});\n\ntest('mapComponentsForFlexRequest', function () {\n\n  var controller = this.subject({\n    groupedComponents: [\n      {\n        name: 'c0',\n        count: 1\n      },\n      {\n        name: 'c1',\n        count: 0\n      }\n    ]\n  });\n\n  deepEqual(controller.mapComponentsForFlexRequest(), {\n    c0: {\n      instanceCount: 1\n    },\n    c1: {\n      instanceCount: 0\n    }\n  }, 'should map grouped components');\n\n});\n\ntest('destroy', function () {\n\n  var controller = this.subject({\n    model: Em.Object.create({\n      isActionPerformed: false\n    })\n  });\n\n  Em.run(function () {\n    controller.destroy();\n  });\n\n  ok(controller.get('model.isActionPerformed'), 'model.isActionPerformed should be true');\n\n});\n\ntest('actionErrorCallback', function () {\n\n  var controller = this.subject({\n    model: Em.Object.create({\n      isActionPerformed: true\n    }),\n    defaultErrorHandler: Em.K\n  });\n\n  Em.run(function () {\n    controller.actionErrorCallback(null, null, null, {\n      url: null,\n      type: null\n    });\n  });\n\n  ok(!controller.get('model.isActionPerformed'), 'model.isActionPerformed should be true');\n\n});\n\ntest('actions.submitFlex', function () {\n\n  var controller = this.subject({\n      model: Em.Object.create({\n        id: 0,\n        name: 'n'\n      }),\n      validateGroupedComponents: function () {\n        return false;\n      },\n      groupedComponentsHaveErrors: true\n    });\n\n  Em.run(function () {\n    controller.send('submitFlex');\n  });\n\n  equal(controller.get('groupedComponents.length'), 0, 'should clear grouped components');\n  ok(!controller.get('groupedComponentsHaveErrors'), 'should clear components errors');\n\n});\n\ntest('actions.closeFlex', function () {\n\n  var controller = this.subject({\n    groupedComponents: [{}],\n    groupedComponentsHaveErrors: true\n  });\n\n  Em.run(function () {\n    controller.send('closeFlex');\n  });\n\n  equal(controller.get('groupedComponents.length'), 0, 'should clear grouped components');\n  ok(!controller.get('groupedComponentsHaveErrors'), 'should clear components errors');\n\n});\n\ntest('modalConfirmed', function () {\n\n  var controller = this.subject({\n      confirmChecked: true,\n      currentAction: 'customMethod',\n      customMethod: function () {\n        this.set('groupedComponents', [{}]);\n      }\n    });\n\n  Em.run(function () {\n    controller.send('modalConfirmed');\n  });\n\n  deepEqual(controller.get('groupedComponents'), [{}], 'currentAction should be executed');\n  ok(!controller.get('confirmChecked'), 'confirmChecked should be false');\n\n});\n\ntest('modalCanceled', function () {\n\n  var controller = this.subject({\n      confirmChecked: true\n    });\n\n  Em.run(function () {\n    controller.send('modalCanceled');\n  });\n\n  ok(!controller.get('confirmChecked'), 'confirmChecked should be false');\n\n});\n\ntest('openModal', function () {\n\n  var cases = [\n      {\n        options: {\n          action: 'customMethod'\n        },\n        groupedComponents: [{}],\n        title: 'should execute currentAction'\n      },\n      {\n        options: {\n          action: 'customMethod',\n          customConfirm: 'customConfirmMethod'\n        },\n        groupedComponents: [{}, {}],\n        title: 'should execute customConfirm'\n      }\n    ],\n    controller = this.subject({\n      customMethod: function () {\n        this.set('groupedComponents', [{}]);\n      },\n      customConfirmMethod: function () {\n        this.set('groupedComponents', [{}, {}]);\n      }\n    });\n\n  Em.run(function () {\n    controller.send('openModal', {\n      action: 'customMethod'\n    });\n  });\n\n  equal(controller.get('currentAction'), 'customMethod', 'should set currentAction');\n\n  cases.forEach(function (item) {\n\n    Em.run(function () {\n      controller.send('openModal', item.options);\n    });\n\n    deepEqual(controller.get('groupedComponents'), item.groupedComponents, item.title);\n\n  });\n\n});\n\ntest('quickLinksOrdered', function() {\n  expect(2);\n\n  var controller = this.subject({\n    model: Em.Object.create({\n      'quickLinks': [\n        Em.Object.create({ label: 'org.apache.slider.thrift'}),\n        Em.Object.create({ label: 'Metrics API'}),\n        Em.Object.create({ label: 'org.apache.slider.hbase'}),\n        Em.Object.create({ label: 'Metrics UI'}),\n        Em.Object.create({ label: 'UI'}),\n        Em.Object.create({ label: 'Some Label'})\n      ]\n    }),\n    weHaveQuicklinks: true\n  });\n\n  Em.run(function() {\n    controller.get('quickLinksOrdered');\n  });\n\n  equal(controller.get('quickLinksOrdered').objectAt(4).get('label'), 'Metrics UI', 'Metrics UI link should be before Metrics API');\n  equal(controller.get('quickLinksOrdered').objectAt(5).get('label'), 'Metrics API', 'Metrics API link should be last');\n});\n\n\ntest('Disable Action Button', function() {\n  expect(6);\n  var controller = this.subject({\n    model: Em.Object.extend({\n      isActionFinished: function() {\n        return this.get('status') != this.get('statusBeforeAction');\n      }.property('statusBeforeAction', 'status')\n    }).create({\n      id: 'someId',\n      name: 'SomeName',\n      status: 'ACCEPTED',\n      statusBeforeAction: ''\n    }),\n    defaultErrorHandler: function() { return true; }\n  });\n\n  Em.run(function() {\n    controller.thaw();\n  });\n\n  equal(controller.get('model').get('isActionPerformed'), true, 'Perform start action');\n\n  Em.run(function() {\n    controller.set('model.status', 'RUNNING');\n    controller.get('availableActions');\n  });\n\n  equal(controller.get('model').get('isActionPerformed'), false, 'Start is done.');\n\n  Em.run(function() {\n    controller.freeze();\n  });\n\n  equal(controller.get('model').get('isActionPerformed'), true, 'Perform freeze action')\n\n  Em.run(function() {\n    controller.set('model.status', 'FROZEN');\n    controller.get('availableActions');\n  });\n\n  equal(controller.get('model').get('isActionPerformed'), false, 'Freeze is done.');\n\n  Em.run(function() {\n    controller.thaw();\n  });\n\n  equal(controller.get('model').get('isActionPerformed'), true, 'Start action performed expect for error.');\n\n  Em.run(function() {\n    controller.actionErrorCallback({requestText: 'some text'}, {url: '/some/url'}, {type: 'PUT'}, true);\n  });\n\n  equal(controller.get('model').get('isActionPerformed'), false, 'Error catched button should be enabled');\n});\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmoduleFor('controller:sliderApps', 'App.SliderAppsController', {\n\n  setup: function () {\n    sinon.stub(Bootstrap.ModalManager, 'open', Em.K);\n  },\n\n  teardown: function () {\n    Bootstrap.ModalManager.open.restore();\n  }\n\n});\n\ntest('showUnavailableAppsPopup', function () {\n\n  var cases = [\n      {\n        message: 'message',\n        result: 'message',\n        title: 'errorMessage property should be set'\n      },\n      {\n        result: Em.I18n.t('slider.apps.undefined.issue'),\n        title: 'default error message'\n      }\n    ],\n    controller = this.subject({\n      errorMessage: null\n    });\n\n  cases.forEach(function (item) {\n\n    Em.run(function () {\n      controller.showUnavailableAppsPopup(item.message);\n    });\n\n    equal(controller.get('errorMessage'), item.result, item.title);\n\n  });\n\n});\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmoduleFor('controller:slider', 'App.SliderController', {\n\n  setup: function () {\n    App.setProperties({\n      metricsHost: null,\n      metricsPort: null,\n      metricsLibPath: null\n    });\n    Ember.run(App, App.advanceReadiness);\n  },\n\n  teardown: function () {\n    App.reset();\n  }\n\n});\n\nvar properties = [\n  Em.Object.create({\n    viewConfigName: 'site.global.metric_collector_lib',\n    value: 'file:///usr/lib/ambari-metrics-hadoop-sink/ambari-metrics-hadoop-sink.jar'\n  }),\n  Em.Object.create({\n    viewConfigName: 'site.global.metric_collector_host',\n    value: 'h2'\n  }),\n  Em.Object.create({\n    viewConfigName: 'site.global.metric_collector_port',\n    value: '6188'\n  })\n];\n\ntest('getViewDisplayParametersSuccessCallback', function () {\n\n  var sliderController = this.subject({});\n  Em.run(function () {\n    sliderController.getViewDisplayParametersSuccessCallback({\n      \"ViewInstanceInfo\" : {\n        \"description\" : \"description s1\",\n        \"label\" : \"display s1\",\n        \"instance_data\": {\n          \"java.home\": \"/usr/jdk64/jdk1.7.0_45\",\n          \"slider.user\": \"admin\"\n        }\n      }\n    })\n  });\n  equal(App.get('label'), 'display s1', 'valid label is set');\n  equal(App.get('description'), 'description s1', 'valid description is set');\n  equal(App.get('javaHome'), '/usr/jdk64/jdk1.7.0_45', 'valid default java_home property is set');\n  equal(App.get('sliderUser'), 'admin', 'valid sliderUser is set');\n\n});\n\ntest('getParametersFromViewPropertiesSuccessCallback', function () {\n\n  var controller = this.subject();\n\n  Em.run(function () {\n    sinon.stub(App.SliderApp.store, 'all').returns(properties);\n    controller.getParametersFromViewPropertiesSuccessCallback({\n      parameters: {\n        'site.global.metric_collector_lib': 'file:///usr/lib/ambari-metrics-hadoop-sink/ambari-metrics-hadoop-sink.jar',\n        'site.global.metric_collector_host': 'h2',\n        'site.global.metric_collector_port': '6188'\n      },\n      validations: [{}, {}]\n    });\n    App.SliderApp.store.all.restore();\n  });\n\n  equal(App.get('metricsHost'), 'h2', 'should set metrics server host');\n  equal(App.get('metricsPort'), '6188', 'should set metrics server port');\n  equal(App.get('metricsLibPath'), 'file:///usr/lib/ambari-metrics-hadoop-sink/ambari-metrics-hadoop-sink.jar', 'should set metrics lib path');\n\n});\n\n test('initMetricsServerProperties', function () {\n\n   var controller = this.subject();\n\n   Em.run(function () {\n     sinon.stub(App.SliderApp.store, 'all').returns(properties);\n     controller.initMetricsServerProperties();\n     App.SliderApp.store.all.restore();\n   });\n\n   equal(App.get('metricsHost'), 'h2', 'should set metrics server host');\n   equal(App.get('metricsPort'), '6188', 'should set metrics server port');\n   equal(App.get('metricsLibPath'), 'file:///usr/lib/ambari-metrics-hadoop-sink/ambari-metrics-hadoop-sink.jar', 'should set metrics lib path');\n\n });\n\ntest('finishSliderConfiguration', function () {\n\n  var cases = [\n      {\n        validations: [],\n        viewEnabled: true,\n        title: 'view enabled'\n      },\n      {\n        validations: [{}, {}],\n        viewEnabled: false,\n        title: 'view disabled'\n      }\n    ],\n    controller = this.subject();\n\n  cases.forEach(function (item) {\n\n    Em.run(function () {\n      controller.finishSliderConfiguration({\n        validations: item.validations\n      });\n    });\n\n    equal(App.get('viewEnabled'), item.viewEnabled, item.title);\n\n  });\n\n});","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nQUnit.module('App.SliderAppsMapper', {\n\n  setup: function () {\n    App.SliderApp.store = App.__container__.lookup('store:main');\n  },\n\n  teardown: function () {\n    App.reset();\n  }\n\n});\n\ntest('parseQuickLinks', function () {\n\n  var mapper = App.SliderAppsMapper;\n\n  Em.run(function () {\n    App.SliderApp.store.all = function () {\n      return [\n        Em.Object.create({\n          viewConfigName: 'yarn.rm.webapp.url',\n          value: 'host'\n        })\n      ]\n    };\n    App.SliderApp.store.pushMany = function (model, record) {\n      mapper.set('result', record);\n    };\n    mapper.parseQuickLinks({\n      id: '1'\n    })\n  });\n\n  equal(mapper.get('result')[0].get('url'), 'http://host/cluster/app/application_1', 'valid YARN application URL formed');\n  equal(mapper.get('result')[0].get('id'), 'YARN application 1', 'model id set correctly');\n\n});\n\ntest('parse | add/remove apps', function () {\n\n  Em.run(function () {\n\n    App.SliderAppsMapper.parse({\n      apps: [\n        {id: '1', type: 't1'},\n        {id: '2', type: 't2'}\n      ]\n    });\n\n  });\n\n  deepEqual(App.SliderApp.store.all('sliderApp').mapBy('id'), ['1', '2'], 'Mapped all apps');\n\n  Em.run(function () {\n\n    App.SliderAppsMapper.parse({\n      apps: [\n        {id: '2', type: 't2'},\n        {id: '3', type: 't3'}\n      ]\n    });\n\n  });\n\n  deepEqual(App.SliderApp.store.all('sliderApp').mapBy('id'), ['2', '3'], 'Delete not-existing app and add new');\n\n});\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmoduleForModel('sliderAppComponent', 'App.SliderAppComponent', {\n\n  needs: [\n    'model:sliderApp'\n  ]\n\n});\n\ntest('isRunning', function () {\n\n  var sliderAppComponent = this.subject({status: 'Running'});\n  equal(sliderAppComponent.get('isRunning'), true, 'should be true if status is Running');\n\n});\n\ntest('url', function () {\n\n  var host = 'host1',\n    containerId = 'id1',\n    sliderAppComponent = this.subject({host: host, containerId: containerId});\n  equal(sliderAppComponent.get('url'), \"http://\" + host + \":8042/node/container/\" + containerId);\n\n  Em.run(function () {\n    sliderAppComponent.set('host', null);\n  });\n  equal(sliderAppComponent.get('url'), null, 'should be null if host not set');\n\n  Em.run(function () {\n    sliderAppComponent.setProperties({host: host, containerId: null});\n  });\n  equal(sliderAppComponent.get('url'), null, 'should be null if containerId not set');\n\n});\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmoduleForModel('sliderApp', 'App.SliderApp', {\n\n  needs: [\n    'model:sliderAppType',\n    'model:sliderAppComponent',\n    'model:quickLink',\n    'model:sliderAppAlert',\n    'model:typedProperty'\n  ],\n\n  setup: function () {\n    App.set('metricsHost', null);\n  },\n\n  teardown: function () {\n    App.set('metricsHost', null);\n  }\n\n});\n\ntest('doNotShowComponentsAndAlerts', function () {\n\n  var sliderApp = this.subject({name: 'p1', status: 'FROZEN'});\n\n  equal(sliderApp.get('doNotShowComponentsAndAlerts'), true, 'Should be true if status is FROZEN');\n\n  Em.run(function () {\n    sliderApp.set('status', 'FAILED');\n  });\n  equal(sliderApp.get('doNotShowComponentsAndAlerts'), true, 'Should be true if status is FAILED');\n\n});\n\n\ntest('showMetrics', function () {\n\n  var sliderApp = this.subject({name: 'p1', configs: {}, supportedMetricNames: ''});\n  equal(sliderApp.get('showMetrics'), false, 'should be false if supportedMetricNames is not provided');\n\n  Em.run(function () {\n    App.set('metricsHost', 'some_host');\n    sliderApp.set('supportedMetricNames', 'some');\n  });\n  equal(sliderApp.get('showMetrics'), true, 'should be true if App.metricsHost is provided');\n\n  Em.run(function () {\n    App.set('metricsHost', null);\n    sliderApp.set('status', App.SliderApp.Status.running);\n  });\n  equal(sliderApp.get('showMetrics'), true, 'should be true if status is RUNNING');\n\n});\n\ntest('mapObject', function () {\n  var sliderApp = this.subject(),\n    longString = new Array(102).join('1'),\n    configs = {\n      n1: 'v1',\n      n2: 'v2',\n      n3: 'v3\\nv3',\n      n4: longString\n    },\n    expected = [\n      {key: 'n1', value: 'v1', isMultiline: false},\n      {key: 'n2', value: 'v2', isMultiline: false},\n      {key: 'n3', value: 'v3\\nv3', isMultiline: true},\n      {key: 'n4', value: longString, isMultiline: true}\n    ],\n    result;\n\n\n  Em.run(function() {\n    result = sliderApp.mapObject(configs);\n  });\n  deepEqual(result, expected, 'should map configs to array');\n\n});\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmoduleFor('view:table', 'App.TableView');\n\ntest('clearFilters', function () {\n\n  var view = this.subject({\n    content: [{}],\n    filteredContent: [{}],\n    endIndex: 2\n  });\n\n  Em.run(function () {\n    view.clearAllFilters();\n  });\n\n  equal(view.get('pageContent.length'), 1, 'all content items should be displayed');\n\n});\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmoduleFor('view:SliderAppSummary', 'App.SliderAppSummaryView', {\n\n  needs: [\n    'view:AppMetric',\n    'view:Chart'\n  ],\n\n  setup: function () {\n    Em.run(App, App.advanceReadiness);\n  },\n\n  teardown: function () {\n    App.reset();\n  }\n\n});\n\ntest('graphsNotEmpty', function () {\n\n  var sliderAppSummaryView = this.subject({\n    controller: {\n      model: Em.Object.create({\n        supportedMetricNames: ''\n      })\n    }\n  });\n  Em.run(function () {\n    sliderAppSummaryView.set('controller.model.supportedMetricNames', 'firstMetric,secondMetric');\n    var v = sliderAppSummaryView.createChildView(sliderAppSummaryView.get('graphs')[0].view);\n    v._refreshGraph({\n      \"metrics\": {\n        \"firstMetric\": [\n          [\n            5.0,\n            1401351555\n          ]\n        ]}\n    });\n    sliderAppSummaryView.createChildView(sliderAppSummaryView.get('graphs')[1].view);\n  });\n  ok(sliderAppSummaryView.get('graphsNotEmpty'), 'One graph has metrics');\n\n  Em.run(function () {\n    var v = sliderAppSummaryView.createChildView(sliderAppSummaryView.get('graphs')[0].view);\n    v._refreshGraph({\n      \"metrics\": {}\n    });\n  });\n  equal(sliderAppSummaryView.get('graphsNotEmpty'), false, 'No one graph has metrics');\n});"]}